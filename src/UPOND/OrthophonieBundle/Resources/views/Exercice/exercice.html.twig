{% extends "UPONDOrthophonieBundle::layout.html.twig" %}

{% block title %}
    Exercice {{ parent() }}
{% endblock %}

{% block orthophonie_body %}

    <h2>Exercice:</h2>
    {% for multimedia in multimedias %}

        <p><b>
                {% if TypeAffichage == "Nom" %}
                    {{ multimedia.getNom }}
                {% else %}
                    Quel est le nom de cette personne ?
                {% endif %}

            </b></p>
        <img src="{{ asset(multimedia.getImage) }}" width='400'alt="" />
        <p></p>
        {% if TypeAffichage == "Nom" %}
            {% if afficherSon == true %}
                <audio controls>
                    <source src="{{ asset(multimedia.getSon) }}" type="audio/mpeg">
                    Votre navigateur internet ne supporte pas l'élément audio.
                </audio>
            {% endif %}
        {% endif %}


    {% endfor %}

    <br />
    <br />
    {% if TypeAffichage == "Exercice" %}
        <p>La réponse du patient est-elle correcte?</p>
    {% endif %}
    <br />

    {{ form_start(form) }}
    {{ form_errors(form) }}
    {% if TypeAffichage == "Nom" %}
        {{ form_row(form.BonneReponse, { 'label': 'Suivant' }) }}
        {{ form_row(form.MauvaiseReponse, { 'label': 'Précédent' }) }}
    {% else %}
        {{ form_row(form.BonneReponse, { 'label': 'Bonne réponse' }) }}
        {{ form_row(form.MauvaiseReponse, { 'label': 'Mauvaise réponse' }) }}
    {% endif %}
    {{ form_end(form) }}

    {% if TypeAffichage == "Exercice" %}
        {% if exercice.getTempsExercice is not null %}
            <div id="countdown"></div>
        {% endif %}

    {% endif %}



{% endblock %}

{% block javascripts_complement %}

    <script type="text/javascript" charset="utf-8">
        var countdown =  $("#countdown").countdown360({
            radius      : 60,
            seconds     : {{ exercice.getTempsExercice }},
            fontColor   : '#FFFFFF',
            autostart   : false,
            onComplete  : function () { console.log('done') }
        });
        countdown.start();
        console.log('countdown360 ',countdown);
    </script>
{% endblock %}